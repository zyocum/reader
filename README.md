# reader
Extract clean(er), readable text from web pages via [Mercury Web Parser API](https://mercury.postlight.com/web-parser/).

FYI, the Mercury Web Parser API is going to be shut down April 15, 2019.  Postlight has [open sourced the parser](https://github.com/postlight/mercury-parser) under quite friendly licenses.  However, it's not so easy to take advantage of the parser when it is not a hosted API.  In some ways, this is nice, because if you run the parser locally, you don't have to run lots of traffic through Postlight's servers.  In other ways, it means I'd have to write Python bindings or a wrapper in order to make my use case feasible.  I'm looking for alternatives in my spare time, but haven't found anything ideal so far.  I'm aware of [Apache Tika](https://github.com/apache/tika), and its [Python port](http://github.com/chrismattmann/tika-python), but I'm not totally statisfied with that.  I am hoping that an open source project similar to the Brave browser's [SpeedReader](https://brave.com/speed-reader/) might exist, but for now, I'm sadly thinking this project may die along with the Mercury API.

## Usage

    ./reader.py -h
    usage: reader.py [-h] [-k API_KEY] [-w BODY_WIDTH] url
    
    Get a cleaner version of a web page for reading purposes. This script uses the
    Mercury API to perform the content extraction and html2text for
    cleaning/conversion.
    
    positional arguments:
      url                   a URL to process
    
    optional arguments:
      -h, --help            show this help message and exit
      -k API_KEY, --api-key API_KEY
                            a Mercury API key (default: None)
      -w BODY_WIDTH, --body-width BODY_WIDTH
                            character offset at which to wrap lines for plain-text
                            (default: None)

## Examples

### Full JSON
`reader.py` writes JSON to `stdout`, so it can be further processed by other programs (e.g., [`jq`](https://stedolan.github.io/jq/)).

    $ ./reader.py https://www.wired.com/2016/09/ode-rosetta-spacecraft-going-die-comet/ | jq .
    {
      "title": "An Ode to the Rosetta Spacecraft as It Flings Itself Into a Comet",
      "content": {
        "html": "<div><article class=\"content link-underline relative body-copy\">\n\n\t\t\t<p>Today, the European Space Agency&#x2019;s Rosetta spacecraft will engage its thrusters for one final maneuver: a suicidal plunge toward the comet it has been orbiting for two years and chasing for a decade. After Rosetta collides with comet 67P/Churyumov-Gerasimenko, its systems will go dark. Scientists will never hear from it again. And eventually, as Chury&#x2019;s repeated treks around the Sun slowly evaporate the cosmic snowball&#x2019;s icy surface,&#xA0;Rosetta&#x2019;s body will completely disappear beneath the comet&#x2019;s gathering dust.</p>\n<p>People are getting real weepy about it.</p>\n<p>Is that kind of nuts? Sure. Rosetta is an aluminum box. Nobody laments the demise of their toaster. But for something that&#x2019;s not even three meters long (not counting those giant 32-meter solar panels), Rosetta and its even tinier companion, the <a href=\"https://www.wired.com/2016/09/can-find-philae-lander-hiding-surface-comet/\">Philae lander</a>, have had an outsized impact. They had mesospherically high scientifically stakes, a soap operatic journey, and weird, anthropomorphic social media presences. So, as geeky as it is to pour emotion into a scientific instrument &#x2026; we&#x2019;re going to miss Rosetta.</p>\n<h3>A History of Firsts</h3>\n<p>Before this mission, no spacecraft had ever rendezvoused with a comet&#x2014;let alone landed on one. There are a million reasons why that&#x2019;s tricky to do, but for simplicity&#x2019;s sake: Have you ever tried to hit a moving object by throwing something&#xA0;at it? Hard, no? And Rosetta had to meet up with Chury at just the right speed&#x2014;slow enough to get caught up in its gravity and avoid faceplanting on the surface.</p>\n<p>After launching in 2004, Rosetta had to whip around the inner solar system for years, repeatedly slingshotting off of Earth and Mars&#x2019; gravity to get its trajectory right.&#xA0;&#x201C;We had ambitious goals,&#x201D; says&#xA0;Rosetta&#x2019;s former mission manager Gerhard Schwehm, who has been involved with the mission for over 30 years. &#x201C;People said we were crazy.&#x201D; To add to the pressure, Rosetta had to go into hibernation from June 2011 until January 2014 while it waited for Chury to get into the right spot. After sleeping for so long&#x2014;it being so flipping cold hundreds of millions of miles from the Sun&#x2014;Rosetta&#x2019;s team was genuinely concerned it might never switch back on.</p>\n<p>For many close to Rosetta, the emotional flashpoint was that wakeup, rather than Rosetta&#x2019;s rendezvous with Chury. &#x201C;When the signal was 18 minutes late&#x2014;relative to all the guesses of people who&#x2019;d worked on the mission for ten years&#x2014;it was seriously distressing,&#x201D; says&#xA0;McCaughrean. &#x201C;But then it came, and it was euphoria. You knew finally you had a mission.&#x201D;</p>\n<p>People outside ESA caught the Rosetta bug as well. There are <a href=\"https://www.youtube.com/watch?v=nDzmJuXAgD8\">songs</a> about it, and hundreds of videos of people who have jobs and other things to do screaming &#x201C;Wake up, Rosetta!&#x201D; to an inanimate object in deep space. Rosetta&#x2019;s fans have stayed with the mission through the wakeup, the successful rendezvous, the Philae&#x2019;s launch and <a href=\"https://www.wired.com/2014/11/rosetta-philae-comet-landing-success/\">disastrously bumpy landing</a>, and its <a href=\"https://www.wired.com/2015/06/philae-possibly-spotted/\">sudden communication</a> and <a href=\"https://www.wired.com/2016/09/can-find-philae-lander-hiding-surface-comet/\">eventual re-discovery</a>. And now, to the bitter end: <a href=\"https://twitter.com/hashtag/CometLanding?src=hash\">#CometLanding</a>.</p>\n<p>&#x201C;The public&#x2019;s engagement has been quite amazing,&#x201D; Mark McCaughrean, senior science advisor for ESA. &#x201C;There&#x2019;s nobody eating sandwiches on Rosetta, but the mission has very human concerns: water and life.&#x201D; That&#x2019;s at least partially due to the mission&#x2019;s unconventional social media campaign, which cast Rosetta and Philae as chatty, bantering traveling companions.</p>\n<blockquote class=\"twitter-tweet\">\n<p>Ready when you are, <a href=\"https://twitter.com/ESA_Rosetta\">@ESA_Rosetta</a>. Give me a little nudge? <a href=\"https://twitter.com/hashtag/CometLanding?src=hash\">#CometLanding</a></p>\n<p>&#x2014; Philae Lander (@Philae2014) <a href=\"https://twitter.com/Philae2014/status/532451193537445888\">November 12, 2014</a></p></blockquote>\n\n<blockquote class=\"twitter-tweet\"><p>\n.<a href=\"https://twitter.com/Philae2014\">@Philae2014</a> &#x1F642; My back is chilly now you&#x2019;ve left, but I&#x2019;m in a better position to watch you now. Send me a postcard! <a href=\"https://twitter.com/hashtag/CometLanding?src=hash\">#CometLanding</a></p>\n<p>&#x2014; ESA Rosetta Mission (@ESA_Rosetta) <a href=\"https://twitter.com/ESA_Rosetta/status/532496644231942144\">November 12, 2014</a>\n</p></blockquote>\n\n<p>But for&#xA0;McCaughrean, it was important that the anthropomorphizing didn&#x2019;t drown out the science&#x2014;it was for drawing people in, and keeping them invested. &#x201C;I think we&#x2019;ve redressed the balance about people&#x2019;s short attention span and need for instant gratification,&#x201D; he says. &#x201C;And that&#x2019;s important. You can&#x2019;t just go to Mars today because <a href=\"https://www.wired.com/2016/09/elon-musk-colonize-mars/\">Elon says you can go</a>. You&#x2019;ve got to be in it for the long haul.&#x201D;</p>\n<h3>A Future of Firsts</h3>\n<p>Rosetta&#x2019;s long haul is ending, but it has proved the value of extended space exploration at every point of its journey. &#x201C;Learning how to fly around the comet was a masterpiece of spaceflight,&#x201D; says Andrea Accomazzo,&#xA0;head of ESA&#x2019;s solar and planetary missions division, and flight director for Rosetta. When Rosetta arrived at Chury, Accomazzo&#x2019;s team was flying blind. They had to infer the mass of the comet&#x2014;and the velocity Rosetta needed to maintain to stay in orbit&#x2014;by measuring how much the comet was perturbing Rosetta&#x2019;s trajectory. Rosetta&#x2019;s team at ESA shared everything they learned with their collaborators at NASA&#x2019;s Jet Propulsion Laboratory, who had taught them interplanetary flight in previous years. It&#x2019;s all pretty kumbaya.</p>\n<p>Which seems about right, given that Rosetta&#x2019;s mission is uncovering clues to humanity&#x2019;s history. Rosetta and Philae collected molecular oxygen that had been trapped in the ice for billions of years, which suggests that the comet must have formed someplace cold and distant, far from active stirring by larger bodies. And as for life&#x2019;s origins, they found carbon and hydrogen and nitrogen as well&#x2014;and even the simplest amino acid, glycine. &#x201C;There&#x2019;s just a whole primordial soup of stuff,&#x201D; says McCaughrean.</p>\n<p>But while the mission has been long, it is far from complete. Rosetta has been collecting data for two years, and scientists have analyzed only a fraction of it. And they&#x2019;ll get more even as&#xA0;Accomazzo&#x2019;s team pilots the craft to its final resting place. &#x201C;The mission for me is all the science data that was collected,&#x201D; says Accomazzo, &#x201C;and it&#x2019;s a good feeling that&#xA0;scientists will use them for ages.&#x201D;</p>\n<p>But for now, pulling the plug on Rosetta is a difficult job. &#x201C;There will be a piece of our lives that is gone,&#x201D; says Accomazzo. &#x201C;After the landing we do have a party&#x2014;otherwise it would be too depressing.&#x201D; And Accomazzo is far from alone in being emotional.</p>\n<p>Even with the distance of retirement,&#xA0;Schwehm compared the end of Rosetta&#x2019;s transmissions to a flatlining heart monitor. &#x201C;We&#x2019;ll never have that closure with Rosetta like we did with Philae because there&#x2019;s nothing out there to take a picture,&#x201D; says McCaughrean. &#x201C;I think we&#x2019;ll see a lot of people go off into the corner for a cry when it&#x2019;s over.&#x201D;</p>\n\n\t\t\t\n\n\t\t\t\t\t</article></div>",
        "markdown": "Today, the European Space Agency's Rosetta spacecraft will engage its\nthrusters for one final maneuver: a suicidal plunge toward the comet it has\nbeen orbiting for two years and chasing for a decade. After Rosetta collides\nwith comet 67P/Churyumov-Gerasimenko, its systems will go dark. Scientists\nwill never hear from it again. And eventually, as Chury's repeated treks\naround the Sun slowly evaporate the cosmic snowball's icy surface, Rosetta's\nbody will completely disappear beneath the comet's gathering dust.\n\nPeople are getting real weepy about it.\n\nIs that kind of nuts? Sure. Rosetta is an aluminum box. Nobody laments the\ndemise of their toaster. But for something that's not even three meters long\n(not counting those giant 32-meter solar panels), Rosetta and its even tinier\ncompanion, the [Philae lander](https://www.wired.com/2016/09/can-find-philae-\nlander-hiding-surface-comet/), have had an outsized impact. They had\nmesospherically high scientifically stakes, a soap operatic journey, and\nweird, anthropomorphic social media presences. So, as geeky as it is to pour\nemotion into a scientific instrument â€¦ we're going to miss Rosetta.\n\n### A History of Firsts\n\nBefore this mission, no spacecraft had ever rendezvoused with a comet--let\nalone landed on one. There are a million reasons why that's tricky to do, but\nfor simplicity's sake: Have you ever tried to hit a moving object by throwing\nsomething at it? Hard, no? And Rosetta had to meet up with Chury at just the\nright speed--slow enough to get caught up in its gravity and avoid\nfaceplanting on the surface.\n\nAfter launching in 2004, Rosetta had to whip around the inner solar system for\nyears, repeatedly slingshotting off of Earth and Mars' gravity to get its\ntrajectory right. \"We had ambitious goals,\" says Rosetta's former mission\nmanager Gerhard Schwehm, who has been involved with the mission for over 30\nyears. \"People said we were crazy.\" To add to the pressure, Rosetta had to go\ninto hibernation from June 2011 until January 2014 while it waited for Chury\nto get into the right spot. After sleeping for so long--it being so flipping\ncold hundreds of millions of miles from the Sun--Rosetta's team was genuinely\nconcerned it might never switch back on.\n\nFor many close to Rosetta, the emotional flashpoint was that wakeup, rather\nthan Rosetta's rendezvous with Chury. \"When the signal was 18 minutes late--\nrelative to all the guesses of people who'd worked on the mission for ten\nyears--it was seriously distressing,\" says McCaughrean. \"But then it came, and\nit was euphoria. You knew finally you had a mission.\"\n\nPeople outside ESA caught the Rosetta bug as well. There are\n[songs](https://www.youtube.com/watch?v=nDzmJuXAgD8) about it, and hundreds of\nvideos of people who have jobs and other things to do screaming \"Wake up,\nRosetta!\" to an inanimate object in deep space. Rosetta's fans have stayed\nwith the mission through the wakeup, the successful rendezvous, the Philae's\nlaunch and [disastrously bumpy landing](https://www.wired.com/2014/11/rosetta-\nphilae-comet-landing-success/), and its [sudden\ncommunication](https://www.wired.com/2015/06/philae-possibly-spotted/) and\n[eventual re-discovery](https://www.wired.com/2016/09/can-find-philae-lander-\nhiding-surface-comet/). And now, to the bitter end:\n[#CometLanding](https://twitter.com/hashtag/CometLanding?src=hash).\n\n\"The public's engagement has been quite amazing,\" Mark McCaughrean, senior\nscience advisor for ESA. \"There's nobody eating sandwiches on Rosetta, but the\nmission has very human concerns: water and life.\" That's at least partially\ndue to the mission's unconventional social media campaign, which cast Rosetta\nand Philae as chatty, bantering traveling companions.\n\n> Ready when you are, [@ESA_Rosetta](https://twitter.com/ESA_Rosetta). Give me\na little nudge?\n[#CometLanding](https://twitter.com/hashtag/CometLanding?src=hash)\n\n>\n\n> -- Philae Lander (@Philae2014) [November 12,\n2014](https://twitter.com/Philae2014/status/532451193537445888)\n\n> .[@Philae2014](https://twitter.com/Philae2014) ðŸ™‚ My back is chilly now\nyou've left, but I'm in a better position to watch you now. Send me a\npostcard! [#CometLanding](https://twitter.com/hashtag/CometLanding?src=hash)\n\n>\n\n> -- ESA Rosetta Mission (@ESA_Rosetta) [November 12,\n2014](https://twitter.com/ESA_Rosetta/status/532496644231942144)\n\nBut for McCaughrean, it was important that the anthropomorphizing didn't drown\nout the science--it was for drawing people in, and keeping them invested. \"I\nthink we've redressed the balance about people's short attention span and need\nfor instant gratification,\" he says. \"And that's important. You can't just go\nto Mars today because [Elon says you can\ngo](https://www.wired.com/2016/09/elon-musk-colonize-mars/). You've got to be\nin it for the long haul.\"\n\n### A Future of Firsts\n\nRosetta's long haul is ending, but it has proved the value of extended space\nexploration at every point of its journey. \"Learning how to fly around the\ncomet was a masterpiece of spaceflight,\" says Andrea Accomazzo, head of ESA's\nsolar and planetary missions division, and flight director for Rosetta. When\nRosetta arrived at Chury, Accomazzo's team was flying blind. They had to infer\nthe mass of the comet--and the velocity Rosetta needed to maintain to stay in\norbit--by measuring how much the comet was perturbing Rosetta's trajectory.\nRosetta's team at ESA shared everything they learned with their collaborators\nat NASA's Jet Propulsion Laboratory, who had taught them interplanetary flight\nin previous years. It's all pretty kumbaya.\n\nWhich seems about right, given that Rosetta's mission is uncovering clues to\nhumanity's history. Rosetta and Philae collected molecular oxygen that had\nbeen trapped in the ice for billions of years, which suggests that the comet\nmust have formed someplace cold and distant, far from active stirring by\nlarger bodies. And as for life's origins, they found carbon and hydrogen and\nnitrogen as well--and even the simplest amino acid, glycine. \"There's just a\nwhole primordial soup of stuff,\" says McCaughrean.\n\nBut while the mission has been long, it is far from complete. Rosetta has been\ncollecting data for two years, and scientists have analyzed only a fraction of\nit. And they'll get more even as Accomazzo's team pilots the craft to its\nfinal resting place. \"The mission for me is all the science data that was\ncollected,\" says Accomazzo, \"and it's a good feeling that scientists will use\nthem for ages.\"\n\nBut for now, pulling the plug on Rosetta is a difficult job. \"There will be a\npiece of our lives that is gone,\" says Accomazzo. \"After the landing we do\nhave a party--otherwise it would be too depressing.\" And Accomazzo is far from\nalone in being emotional.\n\nEven with the distance of retirement, Schwehm compared the end of Rosetta's\ntransmissions to a flatlining heart monitor. \"We'll never have that closure\nwith Rosetta like we did with Philae because there's nothing out there to take\na picture,\" says McCaughrean. \"I think we'll see a lot of people go off into\nthe corner for a cry when it's over.\"\n\n",
        "text": "Today, the European Space Agency's Rosetta spacecraft will engage its thrusters for one final maneuver: a suicidal plunge toward the comet it has been orbiting for two years and chasing for a decade. After Rosetta collides with comet 67P/Churyumov-Gerasimenko, its systems will go dark. Scientists will never hear from it again. And eventually, as Chury's repeated treks around the Sun slowly evaporate the cosmic snowball's icy surface, Rosetta's body will completely disappear beneath the comet's gathering dust.\n\nPeople are getting real weepy about it.\n\nIs that kind of nuts? Sure. Rosetta is an aluminum box. Nobody laments the demise of their toaster. But for something that's not even three meters long (not counting those giant 32-meter solar panels), Rosetta and its even tinier companion, the Philae lander, have had an outsized impact. They had mesospherically high scientifically stakes, a soap operatic journey, and weird, anthropomorphic social media presences. So, as geeky as it is to pour emotion into a scientific instrument â€¦ we're going to miss Rosetta.\n\n### A History of Firsts\n\nBefore this mission, no spacecraft had ever rendezvoused with a comet--let alone landed on one. There are a million reasons why that's tricky to do, but for simplicity's sake: Have you ever tried to hit a moving object by throwing something at it? Hard, no? And Rosetta had to meet up with Chury at just the right speed--slow enough to get caught up in its gravity and avoid faceplanting on the surface.\n\nAfter launching in 2004, Rosetta had to whip around the inner solar system for years, repeatedly slingshotting off of Earth and Mars' gravity to get its trajectory right. \"We had ambitious goals,\" says Rosetta's former mission manager Gerhard Schwehm, who has been involved with the mission for over 30 years. \"People said we were crazy.\" To add to the pressure, Rosetta had to go into hibernation from June 2011 until January 2014 while it waited for Chury to get into the right spot. After sleeping for so long--it being so flipping cold hundreds of millions of miles from the Sun--Rosetta's team was genuinely concerned it might never switch back on.\n\nFor many close to Rosetta, the emotional flashpoint was that wakeup, rather than Rosetta's rendezvous with Chury. \"When the signal was 18 minutes late--relative to all the guesses of people who'd worked on the mission for ten years--it was seriously distressing,\" says McCaughrean. \"But then it came, and it was euphoria. You knew finally you had a mission.\"\n\nPeople outside ESA caught the Rosetta bug as well. There are songs about it, and hundreds of videos of people who have jobs and other things to do screaming \"Wake up, Rosetta!\" to an inanimate object in deep space. Rosetta's fans have stayed with the mission through the wakeup, the successful rendezvous, the Philae's launch and disastrously bumpy landing, and its sudden communication and eventual re-discovery. And now, to the bitter end: #CometLanding.\n\n\"The public's engagement has been quite amazing,\" Mark McCaughrean, senior science advisor for ESA. \"There's nobody eating sandwiches on Rosetta, but the mission has very human concerns: water and life.\" That's at least partially due to the mission's unconventional social media campaign, which cast Rosetta and Philae as chatty, bantering traveling companions.\n\n> Ready when you are, @ESA_Rosetta. Give me a little nudge? #CometLanding\n> \n> -- Philae Lander (@Philae2014) November 12, 2014\n\n> .@Philae2014 ðŸ™‚ My back is chilly now you've left, but I'm in a better position to watch you now. Send me a postcard! #CometLanding\n> \n> -- ESA Rosetta Mission (@ESA_Rosetta) November 12, 2014\n\nBut for McCaughrean, it was important that the anthropomorphizing didn't drown out the science--it was for drawing people in, and keeping them invested. \"I think we've redressed the balance about people's short attention span and need for instant gratification,\" he says. \"And that's important. You can't just go to Mars today because Elon says you can go. You've got to be in it for the long haul.\"\n\n### A Future of Firsts\n\nRosetta's long haul is ending, but it has proved the value of extended space exploration at every point of its journey. \"Learning how to fly around the comet was a masterpiece of spaceflight,\" says Andrea Accomazzo, head of ESA's solar and planetary missions division, and flight director for Rosetta. When Rosetta arrived at Chury, Accomazzo's team was flying blind. They had to infer the mass of the comet--and the velocity Rosetta needed to maintain to stay in orbit--by measuring how much the comet was perturbing Rosetta's trajectory. Rosetta's team at ESA shared everything they learned with their collaborators at NASA's Jet Propulsion Laboratory, who had taught them interplanetary flight in previous years. It's all pretty kumbaya.\n\nWhich seems about right, given that Rosetta's mission is uncovering clues to humanity's history. Rosetta and Philae collected molecular oxygen that had been trapped in the ice for billions of years, which suggests that the comet must have formed someplace cold and distant, far from active stirring by larger bodies. And as for life's origins, they found carbon and hydrogen and nitrogen as well--and even the simplest amino acid, glycine. \"There's just a whole primordial soup of stuff,\" says McCaughrean.\n\nBut while the mission has been long, it is far from complete. Rosetta has been collecting data for two years, and scientists have analyzed only a fraction of it. And they'll get more even as Accomazzo's team pilots the craft to its final resting place. \"The mission for me is all the science data that was collected,\" says Accomazzo, \"and it's a good feeling that scientists will use them for ages.\"\n\nBut for now, pulling the plug on Rosetta is a difficult job. \"There will be a piece of our lives that is gone,\" says Accomazzo. \"After the landing we do have a party--otherwise it would be too depressing.\" And Accomazzo is far from alone in being emotional.\n\nEven with the distance of retirement, Schwehm compared the end of Rosetta's transmissions to a flatlining heart monitor. \"We'll never have that closure with Rosetta like we did with Philae because there's nothing out there to take a picture,\" says McCaughrean. \"I think we'll see a lot of people go off into the corner for a cry when it's over.\"\n"
      },
      "author": "Emma Grey Ellis",
      "date_published": "2016-09-30T07:00:12.000Z",
      "lead_image_url": "https://www.wired.com/wp-content/uploads/2016/09/Rosetta_impact-1-1200x630.jpg",
      "dek": null,
      "next_page_url": null,
      "url": "https://www.wired.com/2016/09/ode-rosetta-spacecraft-going-die-comet/",
      "domain": "www.wired.com",
      "excerpt": "Time to break out the tissues, space fans.",
      "word_count": 1031,
      "direction": "ltr",
      "total_pages": 1,
      "rendered_pages": 1
    }

### HTML
The extracted HTML content from Mercury API is added in `.content.html`:

    $ ./reader.py https://www.wired.com/2016/09/ode-rosetta-spacecraft-going-die-comet/ \
    > | jq -r '.content.html'
    <div><article class="content link-underline relative body-copy">
    
                <p>Today, the European Space Agency&#x2019;s Rosetta spacecraft will engage its thrusters for one final maneuver: a suicidal plunge toward the comet it has been orbiting for two years and chasing for a decade. After Rosetta collides with comet 67P/Churyumov-Gerasimenko, its systems will go dark. Scientists will never hear from it again. And eventually, as Chury&#x2019;s repeated treks around the Sun slowly evaporate the cosmic snowball&#x2019;s icy surface,&#xA0;Rosetta&#x2019;s body will completely disappear beneath the comet&#x2019;s gathering dust.</p>
    <p>People are getting real weepy about it.</p>
    <p>Is that kind of nuts? Sure. Rosetta is an aluminum box. Nobody laments the demise of their toaster. But for something that&#x2019;s not even three meters long (not counting those giant 32-meter solar panels), Rosetta and its even tinier companion, the <a href="https://www.wired.com/2016/09/can-find-philae-lander-hiding-surface-comet/">Philae lander</a>, have had an outsized impact. They had mesospherically high scientifically stakes, a soap operatic journey, and weird, anthropomorphic social media presences. So, as geeky as it is to pour emotion into a scientific instrument &#x2026; we&#x2019;re going to miss Rosetta.</p>
    <h3>A History of Firsts</h3>
    <p>Before this mission, no spacecraft had ever rendezvoused with a comet&#x2014;let alone landed on one. There are a million reasons why that&#x2019;s tricky to do, but for simplicity&#x2019;s sake: Have you ever tried to hit a moving object by throwing something&#xA0;at it? Hard, no? And Rosetta had to meet up with Chury at just the right speed&#x2014;slow enough to get caught up in its gravity and avoid faceplanting on the surface.</p>
    <p>After launching in 2004, Rosetta had to whip around the inner solar system for years, repeatedly slingshotting off of Earth and Mars&#x2019; gravity to get its trajectory right.&#xA0;&#x201C;We had ambitious goals,&#x201D; says&#xA0;Rosetta&#x2019;s former mission manager Gerhard Schwehm, who has been involved with the mission for over 30 years. &#x201C;People said we were crazy.&#x201D; To add to the pressure, Rosetta had to go into hibernation from June 2011 until January 2014 while it waited for Chury to get into the right spot. After sleeping for so long&#x2014;it being so flipping cold hundreds of millions of miles from the Sun&#x2014;Rosetta&#x2019;s team was genuinely concerned it might never switch back on.</p>
    <p>For many close to Rosetta, the emotional flashpoint was that wakeup, rather than Rosetta&#x2019;s rendezvous with Chury. &#x201C;When the signal was 18 minutes late&#x2014;relative to all the guesses of people who&#x2019;d worked on the mission for ten years&#x2014;it was seriously distressing,&#x201D; says&#xA0;McCaughrean. &#x201C;But then it came, and it was euphoria. You knew finally you had a mission.&#x201D;</p>
    <p>People outside ESA caught the Rosetta bug as well. There are <a href="https://www.youtube.com/watch?v=nDzmJuXAgD8">songs</a> about it, and hundreds of videos of people who have jobs and other things to do screaming &#x201C;Wake up, Rosetta!&#x201D; to an inanimate object in deep space. Rosetta&#x2019;s fans have stayed with the mission through the wakeup, the successful rendezvous, the Philae&#x2019;s launch and <a href="https://www.wired.com/2014/11/rosetta-philae-comet-landing-success/">disastrously bumpy landing</a>, and its <a href="https://www.wired.com/2015/06/philae-possibly-spotted/">sudden communication</a> and <a href="https://www.wired.com/2016/09/can-find-philae-lander-hiding-surface-comet/">eventual re-discovery</a>. And now, to the bitter end: <a href="https://twitter.com/hashtag/CometLanding?src=hash">#CometLanding</a>.</p>
    <p>&#x201C;The public&#x2019;s engagement has been quite amazing,&#x201D; Mark McCaughrean, senior science advisor for ESA. &#x201C;There&#x2019;s nobody eating sandwiches on Rosetta, but the mission has very human concerns: water and life.&#x201D; That&#x2019;s at least partially due to the mission&#x2019;s unconventional social media campaign, which cast Rosetta and Philae as chatty, bantering traveling companions.</p>
    <blockquote class="twitter-tweet">
    <p>Ready when you are, <a href="https://twitter.com/ESA_Rosetta">@ESA_Rosetta</a>. Give me a little nudge? <a href="https://twitter.com/hashtag/CometLanding?src=hash">#CometLanding</a></p>
    <p>&#x2014; Philae Lander (@Philae2014) <a href="https://twitter.com/Philae2014/status/532451193537445888">November 12, 2014</a></p></blockquote>
    
    <blockquote class="twitter-tweet"><p>
    .<a href="https://twitter.com/Philae2014">@Philae2014</a> &#x1F642; My back is chilly now you&#x2019;ve left, but I&#x2019;m in a better position to watch you now. Send me a postcard! <a href="https://twitter.com/hashtag/CometLanding?src=hash">#CometLanding</a></p>
    <p>&#x2014; ESA Rosetta Mission (@ESA_Rosetta) <a href="https://twitter.com/ESA_Rosetta/status/532496644231942144">November 12, 2014</a>
    </p></blockquote>
    
    <p>But for&#xA0;McCaughrean, it was important that the anthropomorphizing didn&#x2019;t drown out the science&#x2014;it was for drawing people in, and keeping them invested. &#x201C;I think we&#x2019;ve redressed the balance about people&#x2019;s short attention span and need for instant gratification,&#x201D; he says. &#x201C;And that&#x2019;s important. You can&#x2019;t just go to Mars today because <a href="https://www.wired.com/2016/09/elon-musk-colonize-mars/">Elon says you can go</a>. You&#x2019;ve got to be in it for the long haul.&#x201D;</p>
    <h3>A Future of Firsts</h3>
    <p>Rosetta&#x2019;s long haul is ending, but it has proved the value of extended space exploration at every point of its journey. &#x201C;Learning how to fly around the comet was a masterpiece of spaceflight,&#x201D; says Andrea Accomazzo,&#xA0;head of ESA&#x2019;s solar and planetary missions division, and flight director for Rosetta. When Rosetta arrived at Chury, Accomazzo&#x2019;s team was flying blind. They had to infer the mass of the comet&#x2014;and the velocity Rosetta needed to maintain to stay in orbit&#x2014;by measuring how much the comet was perturbing Rosetta&#x2019;s trajectory. Rosetta&#x2019;s team at ESA shared everything they learned with their collaborators at NASA&#x2019;s Jet Propulsion Laboratory, who had taught them interplanetary flight in previous years. It&#x2019;s all pretty kumbaya.</p>
    <p>Which seems about right, given that Rosetta&#x2019;s mission is uncovering clues to humanity&#x2019;s history. Rosetta and Philae collected molecular oxygen that had been trapped in the ice for billions of years, which suggests that the comet must have formed someplace cold and distant, far from active stirring by larger bodies. And as for life&#x2019;s origins, they found carbon and hydrogen and nitrogen as well&#x2014;and even the simplest amino acid, glycine. &#x201C;There&#x2019;s just a whole primordial soup of stuff,&#x201D; says McCaughrean.</p>
    <p>But while the mission has been long, it is far from complete. Rosetta has been collecting data for two years, and scientists have analyzed only a fraction of it. And they&#x2019;ll get more even as&#xA0;Accomazzo&#x2019;s team pilots the craft to its final resting place. &#x201C;The mission for me is all the science data that was collected,&#x201D; says Accomazzo, &#x201C;and it&#x2019;s a good feeling that&#xA0;scientists will use them for ages.&#x201D;</p>
    <p>But for now, pulling the plug on Rosetta is a difficult job. &#x201C;There will be a piece of our lives that is gone,&#x201D; says Accomazzo. &#x201C;After the landing we do have a party&#x2014;otherwise it would be too depressing.&#x201D; And Accomazzo is far from alone in being emotional.</p>
    <p>Even with the distance of retirement,&#xA0;Schwehm compared the end of Rosetta&#x2019;s transmissions to a flatlining heart monitor. &#x201C;We&#x2019;ll never have that closure with Rosetta like we did with Philae because there&#x2019;s nothing out there to take a picture,&#x201D; says McCaughrean. &#x201C;I think we&#x2019;ll see a lot of people go off into the corner for a cry when it&#x2019;s over.&#x201D;</p>
    
                
    
                        </article></div>

### Markdown
A Markdown conversion from the HTML is added in `.content.markdown`:

    $ ./reader.py https://www.wired.com/2016/09/ode-rosetta-spacecraft-going-die-comet/ \
    > | jq -r '.content.markdown'
    Today, the European Space Agency's Rosetta spacecraft will engage its thrusters for one final maneuver: a suicidal plunge toward the comet it has been orbiting for two years and chasing for a decade. After Rosetta collides with comet 67P/Churyumov-Gerasimenko, its systems will go dark. Scientists will never hear from it again. And eventually, as Chury's repeated treks around the Sun slowly evaporate the cosmic snowball's icy surface, Rosetta's body will completely disappear beneath the comet's gathering dust.
    
    People are getting real weepy about it.
    
    Is that kind of nuts? Sure. Rosetta is an aluminum box. Nobody laments the demise of their toaster. But for something that's not even three meters long (not counting those giant 32-meter solar panels), Rosetta and its even tinier companion, the [Philae lander](https://www.wired.com/2016/09/can-find-philae-lander-hiding-surface-comet/), have had an outsized impact. They had mesospherically high scientifically stakes, a soap operatic journey, and weird, anthropomorphic social media presences. So, as geeky as it is to pour emotion into a scientific instrument â€¦ we're going to miss Rosetta.
    
    ### A History of Firsts
    
    Before this mission, no spacecraft had ever rendezvoused with a comet--let alone landed on one. There are a million reasons why that's tricky to do, but for simplicity's sake: Have you ever tried to hit a moving object by throwing something at it? Hard, no? And Rosetta had to meet up with Chury at just the right speed--slow enough to get caught up in its gravity and avoid faceplanting on the surface.
    
    After launching in 2004, Rosetta had to whip around the inner solar system for years, repeatedly slingshotting off of Earth and Mars' gravity to get its trajectory right. "We had ambitious goals," says Rosetta's former mission manager Gerhard Schwehm, who has been involved with the mission for over 30 years. "People said we were crazy." To add to the pressure, Rosetta had to go into hibernation from June 2011 until January 2014 while it waited for Chury to get into the right spot. After sleeping for so long--it being so flipping cold hundreds of millions of miles from the Sun--Rosetta's team was genuinely concerned it might never switch back on.
    
    For many close to Rosetta, the emotional flashpoint was that wakeup, rather than Rosetta's rendezvous with Chury. "When the signal was 18 minutes late--relative to all the guesses of people who'd worked on the mission for ten years--it was seriously distressing," says McCaughrean. "But then it came, and it was euphoria. You knew finally you had a mission."
    
    People outside ESA caught the Rosetta bug as well. There are [songs](https://www.youtube.com/watch?v=nDzmJuXAgD8) about it, and hundreds of videos of people who have jobs and other things to do screaming "Wake up, Rosetta!" to an inanimate object in deep space. Rosetta's fans have stayed with the mission through the wakeup, the successful rendezvous, the Philae's launch and [disastrously bumpy landing](https://www.wired.com/2014/11/rosetta-philae-comet-landing-success/), and its [sudden communication](https://www.wired.com/2015/06/philae-possibly-spotted/) and [eventual re-discovery](https://www.wired.com/2016/09/can-find-philae-lander-hiding-surface-comet/). And now, to the bitter end: [#CometLanding](https://twitter.com/hashtag/CometLanding?src=hash).
    
    "The public's engagement has been quite amazing," Mark McCaughrean, senior science advisor for ESA. "There's nobody eating sandwiches on Rosetta, but the mission has very human concerns: water and life." That's at least partially due to the mission's unconventional social media campaign, which cast Rosetta and Philae as chatty, bantering traveling companions.
    
    > Ready when you are, [@ESA_Rosetta](https://twitter.com/ESA_Rosetta). Give me a little nudge? [#CometLanding](https://twitter.com/hashtag/CometLanding?src=hash)
    > 
    > -- Philae Lander (@Philae2014) [November 12, 2014](https://twitter.com/Philae2014/status/532451193537445888)
    
    > .[@Philae2014](https://twitter.com/Philae2014) ðŸ™‚ My back is chilly now you've left, but I'm in a better position to watch you now. Send me a postcard! [#CometLanding](https://twitter.com/hashtag/CometLanding?src=hash)
    > 
    > -- ESA Rosetta Mission (@ESA_Rosetta) [November 12, 2014](https://twitter.com/ESA_Rosetta/status/532496644231942144)
    
    But for McCaughrean, it was important that the anthropomorphizing didn't drown out the science--it was for drawing people in, and keeping them invested. "I think we've redressed the balance about people's short attention span and need for instant gratification," he says. "And that's important. You can't just go to Mars today because [Elon says you can go](https://www.wired.com/2016/09/elon-musk-colonize-mars/). You've got to be in it for the long haul."
    
    ### A Future of Firsts
    
    Rosetta's long haul is ending, but it has proved the value of extended space exploration at every point of its journey. "Learning how to fly around the comet was a masterpiece of spaceflight," says Andrea Accomazzo, head of ESA's solar and planetary missions division, and flight director for Rosetta. When Rosetta arrived at Chury, Accomazzo's team was flying blind. They had to infer the mass of the comet--and the velocity Rosetta needed to maintain to stay in orbit--by measuring how much the comet was perturbing Rosetta's trajectory. Rosetta's team at ESA shared everything they learned with their collaborators at NASA's Jet Propulsion Laboratory, who had taught them interplanetary flight in previous years. It's all pretty kumbaya.
    
    Which seems about right, given that Rosetta's mission is uncovering clues to humanity's history. Rosetta and Philae collected molecular oxygen that had been trapped in the ice for billions of years, which suggests that the comet must have formed someplace cold and distant, far from active stirring by larger bodies. And as for life's origins, they found carbon and hydrogen and nitrogen as well--and even the simplest amino acid, glycine. "There's just a whole primordial soup of stuff," says McCaughrean.
    
    But while the mission has been long, it is far from complete. Rosetta has been collecting data for two years, and scientists have analyzed only a fraction of it. And they'll get more even as Accomazzo's team pilots the craft to its final resting place. "The mission for me is all the science data that was collected," says Accomazzo, "and it's a good feeling that scientists will use them for ages."
    
    But for now, pulling the plug on Rosetta is a difficult job. "There will be a piece of our lives that is gone," says Accomazzo. "After the landing we do have a party--otherwise it would be too depressing." And Accomazzo is far from alone in being emotional.
    
    Even with the distance of retirement, Schwehm compared the end of Rosetta's transmissions to a flatlining heart monitor. "We'll never have that closure with Rosetta like we did with Philae because there's nothing out there to take a picture," says McCaughrean. "I think we'll see a lot of people go off into the corner for a cry when it's over."

### Plain-text
A plain-text conversion from the HTML is added in `.content.text`:

    $ ./reader.py https://www.wired.com/2016/09/ode-rosetta-spacecraft-going-die-comet/ \
    > | jq -r '.content.text'
    Today, the European Space Agency's Rosetta spacecraft will engage its thrusters for one final maneuver: a suicidal plunge toward the comet it has been orbiting for two years and chasing for a decade. After Rosetta collides with comet 67P/Churyumov-Gerasimenko, its systems will go dark. Scientists will never hear from it again. And eventually, as Chury's repeated treks around the Sun slowly evaporate the cosmic snowball's icy surface, Rosetta's body will completely disappear beneath the comet's gathering dust.
    
    People are getting real weepy about it.
    
    Is that kind of nuts? Sure. Rosetta is an aluminum box. Nobody laments the demise of their toaster. But for something that's not even three meters long (not counting those giant 32-meter solar panels), Rosetta and its even tinier companion, the Philae lander, have had an outsized impact. They had mesospherically high scientifically stakes, a soap operatic journey, and weird, anthropomorphic social media presences. So, as geeky as it is to pour emotion into a scientific instrument â€¦ we're going to miss Rosetta.
    
    ### A History of Firsts
    
    Before this mission, no spacecraft had ever rendezvoused with a comet--let alone landed on one. There are a million reasons why that's tricky to do, but for simplicity's sake: Have you ever tried to hit a moving object by throwing something at it? Hard, no? And Rosetta had to meet up with Chury at just the right speed--slow enough to get caught up in its gravity and avoid faceplanting on the surface.
    
    After launching in 2004, Rosetta had to whip around the inner solar system for years, repeatedly slingshotting off of Earth and Mars' gravity to get its trajectory right. "We had ambitious goals," says Rosetta's former mission manager Gerhard Schwehm, who has been involved with the mission for over 30 years. "People said we were crazy." To add to the pressure, Rosetta had to go into hibernation from June 2011 until January 2014 while it waited for Chury to get into the right spot. After sleeping for so long--it being so flipping cold hundreds of millions of miles from the Sun--Rosetta's team was genuinely concerned it might never switch back on.
    
    For many close to Rosetta, the emotional flashpoint was that wakeup, rather than Rosetta's rendezvous with Chury. "When the signal was 18 minutes late--relative to all the guesses of people who'd worked on the mission for ten years--it was seriously distressing," says McCaughrean. "But then it came, and it was euphoria. You knew finally you had a mission."
    
    People outside ESA caught the Rosetta bug as well. There are songs about it, and hundreds of videos of people who have jobs and other things to do screaming "Wake up, Rosetta!" to an inanimate object in deep space. Rosetta's fans have stayed with the mission through the wakeup, the successful rendezvous, the Philae's launch and disastrously bumpy landing, and its sudden communication and eventual re-discovery. And now, to the bitter end: #CometLanding.
    
    "The public's engagement has been quite amazing," Mark McCaughrean, senior science advisor for ESA. "There's nobody eating sandwiches on Rosetta, but the mission has very human concerns: water and life." That's at least partially due to the mission's unconventional social media campaign, which cast Rosetta and Philae as chatty, bantering traveling companions.
    
    > Ready when you are, @ESA_Rosetta. Give me a little nudge? #CometLanding
    > 
    > -- Philae Lander (@Philae2014) November 12, 2014
    
    > .@Philae2014 ðŸ™‚ My back is chilly now you've left, but I'm in a better position to watch you now. Send me a postcard! #CometLanding
    > 
    > -- ESA Rosetta Mission (@ESA_Rosetta) November 12, 2014
    
    But for McCaughrean, it was important that the anthropomorphizing didn't drown out the science--it was for drawing people in, and keeping them invested. "I think we've redressed the balance about people's short attention span and need for instant gratification," he says. "And that's important. You can't just go to Mars today because Elon says you can go. You've got to be in it for the long haul."
    
    ### A Future of Firsts
    
    Rosetta's long haul is ending, but it has proved the value of extended space exploration at every point of its journey. "Learning how to fly around the comet was a masterpiece of spaceflight," says Andrea Accomazzo, head of ESA's solar and planetary missions division, and flight director for Rosetta. When Rosetta arrived at Chury, Accomazzo's team was flying blind. They had to infer the mass of the comet--and the velocity Rosetta needed to maintain to stay in orbit--by measuring how much the comet was perturbing Rosetta's trajectory. Rosetta's team at ESA shared everything they learned with their collaborators at NASA's Jet Propulsion Laboratory, who had taught them interplanetary flight in previous years. It's all pretty kumbaya.
    
    Which seems about right, given that Rosetta's mission is uncovering clues to humanity's history. Rosetta and Philae collected molecular oxygen that had been trapped in the ice for billions of years, which suggests that the comet must have formed someplace cold and distant, far from active stirring by larger bodies. And as for life's origins, they found carbon and hydrogen and nitrogen as well--and even the simplest amino acid, glycine. "There's just a whole primordial soup of stuff," says McCaughrean.
    
    But while the mission has been long, it is far from complete. Rosetta has been collecting data for two years, and scientists have analyzed only a fraction of it. And they'll get more even as Accomazzo's team pilots the craft to its final resting place. "The mission for me is all the science data that was collected," says Accomazzo, "and it's a good feeling that scientists will use them for ages."
    
    But for now, pulling the plug on Rosetta is a difficult job. "There will be a piece of our lives that is gone," says Accomazzo. "After the landing we do have a party--otherwise it would be too depressing." And Accomazzo is far from alone in being emotional.
    
    Even with the distance of retirement, Schwehm compared the end of Rosetta's transmissions to a flatlining heart monitor. "We'll never have that closure with Rosetta like we did with Philae because there's nothing out there to take a picture," says McCaughrean. "I think we'll see a lot of people go off into the corner for a cry when it's over."

### Read Web Content in Your Terminal
One use case for this script is to convert content from the web to a format that is suitable for reading in your terminal.  Here's a short shell pipeline to extract the content and feed the converted plain-text to your `$PAGER` of choice for easy reading:

    #!/bin/bash
    $HOME/Dropbox/Scripts/Python/reader/reader.py $1 -w 80 | # wrap at 80 characters
    jq -r '[
        (if .title then "# "+.title else empty end),
        (if .author then .author else empty end),
        (.content.text)
    ] | join("\n\n")' |                                      # prepend title/author if available
    $PAGER                                                   # pipe to pager of your choice
